[
    {
        "UpdateStageName": "Create Server Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{ $FullBaseDir }}server"
    },
    {
        "UpdateStageName": "Create Data Directory",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{ $FullBaseDir }}data"
    },
    {
        "UpdateStageName": "Uptime Kuma Installation",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'cd server && git clone https://github.com/louislam/uptime-kuma.git . && npm install && npm run setup'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Uptime Kuma Installation",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"Set-Location -Path 'server'; git clone https://github.com/louislam/uptime-kuma.git .; npm install; npm run setup\"",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Initialize Uptime Kuma",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "Executable",
        "UpdateSourceData": "node",
        "UpdateSourceArgs": "{{ $FullBaseDir }}server/server.js",
        "SkipOnFailure": false
    }
]
