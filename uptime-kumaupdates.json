[
    {
        "UpdateStageName": "Create Server Directory",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{ $FullBaseDir }}server"
    },
    {
        "UpdateStageName": "Create Data Directory",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "CreateDirectory",
        "UpdateSourceArgs": "{{ $FullBaseDir }}data"
    },
    {
        "UpdateStageName": "Install Dependencies",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'apt-get update && apt-get install -y git nodejs npm'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Clone Uptime Kuma Repository",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'cd {{ $FullBaseDir }}server && git clone https://github.com/louislam/uptime-kuma.git .'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Install Uptime Kuma",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'cd {{ $FullBaseDir }}server && npm install'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Initialize Uptime Kuma",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'cd {{ $FullBaseDir }}server && npm run setup'",
        "SkipOnFailure": false
    }
]
